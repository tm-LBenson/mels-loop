@use '../../styles/lib/hooks';
@use '../../styles/lib/refs';
@use '../../styles/lib/merge';
@import '../../styles/lib/states';

$states: merge.deep(
	$COMPONENT_STATES,
	(
		selected: selected,
	)
);

@function -get-bg-color($var, $state) {
	@return refs.compRef($var, background-color, $state);
}

@function -get-text-color($var, $state) {
	@return refs.compRef($var, text-color, $state);
}

@function -get-font-weight($var, $state) {
	@return refs.compRef($var, font-weight, $state);
}

$bgVar: refs.varName(site-button-toggle-background-color);
$textColorVar: refs.varName(site-button-toggle-text-color);
$fontWeightVar: refs.varName(site-button-toggle-font-weight);

@mixin icon-mixin($var) {
	.icon {
		@include hooks.use-icon-color($var);
	}

	&:hover {
		.icon {
			@include hooks.use-icon-color($var, state(hovered));
		}
	}
}

@mixin menu-trigger-button-mixin($var: site-mixins-toggle-button) {
	user-select: none;
	border: none;

	@include hooks.use-height($var);
	@include hooks.use-radius($var);
	@include hooks.use-text-color($var);
	@include hooks.use-background-color($var);
	@include hooks.use-font-weight($var);
	@include icon-mixin($var);
}

@mixin toggle-button-mixin($var: site-button-toggle) {
	display: inline-flex;
	align-items: center;
	justify-content: center;

	@include menu-trigger-button-mixin;
	@include hooks.use-width($var);
	@include hooks.use-text-color($var);

	&:not([data-state='selected']):hover {
		cursor: pointer;

		@include hooks.use-text-color($var, state(hovered));
		@include hooks.use-background-color($var, state(hovered));
	}

	// `selected` state overrides
	&[data-state='selected'] {
		#{$bgVar}: #{-get-bg-color($var, state(selected))};
		#{$textColorVar}: #{-get-text-color($var, state(selected))};
		#{$fontWeightVar}: #{-get-font-weight($var, state(selected))};
	}
}

// @mixin Default {
// 	--text-color: magenta;
// 	// --button-mixin-background-color: magenta;

// 	background-color: var(--button-background-color);
// 	border-radius: var(--button-border-radius);
// 	color: var(--text-color);
// 	text-decoration: none;

// 	&:hover {
// 		color: var(--text-color);
// 		background-color: var(--button-background-color__hover);
// 	}

// 	&:active {
// 		color: green; //var(--text-color);
// 		background-color: var(--button-background-color__active);
// 	}
// }

@mixin topbar-item {
	background-color: green;
	height: 2.5em;
	width: 2.5em;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 4px;

	&:hover {
		background-color: pink;
		cursor: pointer;
	}
}
